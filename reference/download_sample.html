<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Download a sample's data files from the ScPCA Portal — download_sample • ScPCAr</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Download a sample's data files from the ScPCA Portal — download_sample"><meta name="description" content="This function downloads the data files for a specified sample from the ScPCA Portal.
The downloaded files are saved in a subdirectory of the specified path, named
by the base filename of the downloaded zip file, which includes the sample ID, modality,
format, and date."><meta property="og:description" content="This function downloads the data files for a specified sample from the ScPCA Portal.
The downloaded files are saved in a subdirectory of the specified path, named
by the base filename of the downloaded zip file, which includes the sample ID, modality,
format, and date."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ScPCAr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Download a sample's data files from the ScPCA Portal</h1>

      <div class="d-none name"><code>download_sample.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function downloads the data files for a specified sample from the ScPCA Portal.
The downloaded files are saved in a subdirectory of the specified path, named
by the base filename of the downloaded zip file, which includes the sample ID, modality,
format, and date.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">download_sample</span><span class="op">(</span></span>
<span>  <span class="va">sample_id</span>,</span>
<span>  <span class="va">auth_token</span>,</span>
<span>  destination <span class="op">=</span> <span class="st">"scpca_data"</span>,</span>
<span>  format <span class="op">=</span> <span class="st">"sce"</span>,</span>
<span>  overwrite <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  redownload <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  quiet <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-sample-id">sample_id<a class="anchor" aria-label="anchor" href="#arg-sample-id"></a></dt>
<dd><p>The ScPCA sample ID (e.g. "SCPCS000001")</p></dd>


<dt id="arg-auth-token">auth_token<a class="anchor" aria-label="anchor" href="#arg-auth-token"></a></dt>
<dd><p>An authorization token obtained from <code><a href="get_auth.html">get_auth()</a></code></p></dd>


<dt id="arg-destination">destination<a class="anchor" aria-label="anchor" href="#arg-destination"></a></dt>
<dd><p>The path to the directory where the unzipped file directory should be saved.
Default is "scpca_data".</p></dd>


<dt id="arg-format">format<a class="anchor" aria-label="anchor" href="#arg-format"></a></dt>
<dd><p>The desired file format, either "sce" (SingleCellExperiment),
"anndata" (AnnData/H5AD), or "spatial" (for spatial data in Space Ranger format).
Default is "sce".</p></dd>


<dt id="arg-overwrite">overwrite<a class="anchor" aria-label="anchor" href="#arg-overwrite"></a></dt>
<dd><p>Whether to overwrite files in existing directories if they already exist.
Note that files in existing directories that do not have the same name
as one of the downloaded files will not be deleted.
Default is FALSE.</p></dd>


<dt id="arg-redownload">redownload<a class="anchor" aria-label="anchor" href="#arg-redownload"></a></dt>
<dd><p>Whether to re-download if files from the same sample and format already exist.
If FALSE, existing files will be returned.
Default is FALSE.</p></dd>


<dt id="arg-quiet">quiet<a class="anchor" aria-label="anchor" href="#arg-quiet"></a></dt>
<dd><p>Whether to suppress download progress messages. Default is FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>a vector of file paths for the downloaded files (invisibly)</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>For single-cell and single-nuclei data, files can be downloaded in either
SingleCellExperiment ("sce") or AnnData ("anndata") format,
and all downloads include the unfiltered, filtered, and processed data objects, as well as
associated metadata and QC files.</p>
<p>Spatial data, if present, can be downloaded in Space Ranger format using the "spatial" format option.</p>
<p>The function returns a vector of file paths for the downloaded files (invisibly).</p>
<p>Note that downloading data requires an authorization token, which can be obtained
using the <code><a href="get_auth.html">get_auth()</a></code> function.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Get a token first</span></span></span>
<span class="r-in"><span><span class="va">auth_token</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_auth.html">get_auth</a></span><span class="op">(</span><span class="st">"me@email.net"</span>, agree <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Then ask for a sample download</span></span></span>
<span class="r-in"><span><span class="fu">download_sample</span><span class="op">(</span><span class="st">"SCPCS000001"</span>, <span class="va">auth_token</span>, destination <span class="op">=</span> <span class="st">"scpca_data"</span>, format <span class="op">=</span> <span class="st">"sce"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Downloading in AnnData format</span></span></span>
<span class="r-in"><span><span class="fu">download_sample</span><span class="op">(</span><span class="st">"SCPCS000001"</span>, <span class="va">auth_token</span>, destination <span class="op">=</span> <span class="st">"scpca_data"</span>, format <span class="op">=</span> <span class="st">"anndata"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Joshua A. Shapiro, Stephanie J. Spielman, Alex’s Lemonade Stand Foundation.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

